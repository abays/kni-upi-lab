# Kickstart generation

Regular RHCOS nodes can be enrolled using ignition files directly. But for CentOS nodes, ignition on boot is not supported and an additional kickstart configuration is needed to embed it. The generated kickstart file can be added with **inst.ks** parameter on PXE kernel args.
Two different scripts are provided, one for generating configuration for a regular CentOS node ([https://github.com/redhat-nfvpe/upi-rt/blob/master/kickstart/add_kickstart_for_centos.sh](https://github.com/redhat-nfvpe/upi-rt/blob/master/kickstart/add_kickstart_for_centos.sh)) and another for RT node ([https://github.com/redhat-nfvpe/upi-rt/blob/master/kickstart/add_kickstart_for_centos_rt.sh](https://github.com/redhat-nfvpe/upi-rt/blob/master/kickstart/add_kickstart_for_centos_rt.sh) ).
The procedure is as simple as to execute those scripts with a set of vars. This will generate a *kickstart\*.cfg file, that can be copied to matchbox assets directory, and used from pxe kernel args.

## Variables needed
Those scripts rely on a file *settings_upi.env* that needs to be placed at $HOME. It contains the following vars:

 - CLUSTER_NAME
 - BASE_DOMAIN
 - PULL_SECRET
 - KUBECONFIG_PATH (needs to point to the auth/kubeconfig generated by install-config)
 - ROOT_PASSWORD

Additionally extra settings are needed for RHEL: RH_USERNAME, RH_PASSWORD, RH_POOL

Once the .cfg file has been generated, move it to the right matchbox assets directory and proceed to the next step.
